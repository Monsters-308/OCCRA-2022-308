{"mode":"Text","textContent":"#region VEXcode Generated Robot Configuration\n#10/10/2022 make sure to call define statements in main (we have not done it yet)\nfrom vex import *\nimport urandom\n\n# Brain should be defined by default\nbrain=Brain()\n\n\n# Robot configuration code\nsensors_array = Triport(Ports.PORT20)\n\nLeftWheelMotor1 = Motor29(brain.three_wire_port.c, False)\nLeftWheelMotor2 = Motor29(brain.three_wire_port.h, False)\n\nRightWheelMotor1 = Motor29(brain.three_wire_port.a, False)\nRightWheelMotor2 = Motor29(brain.three_wire_port.b, False)\n\nConveyor1 = Motor29(brain.three_wire_port.g, False) #Y BUTTON\n\nConveyorIntakeWheels = Motor29(brain.three_wire_port.e, False) #INTAKE, RUNS WITH CONVEYOR 1 AT SAME TIME\n\nConveyor2 = Motor29(brain.three_wire_port.d, False)#A BUTTON, SHOOTER\n\nLift = Motor29(brain.three_wire_port.f, False)# DOWN=HOME, RIGHT=LEVEL2, UP=LEVEL3, LEFT=LEVEL4, \n\ncontroller_1 = Controller(PRIMARY)\ncontroller_2 = Controller(PARTNER)\n\n#SonicSensor = Sonar(sensors_array.a)# SonicSensor is used to help determine which level/height for lift to go to\n#make 3 bumper swtiches, to tell what level to make lift go to\n\nbumperlift1 = Bumper(sensors_array.a)\nbumperlift2 = Bumper(sensors_array.b)\nbumperlift3 = Bumper(sensors_array.c)\n\n\n#set home\nwhereLiftAt=0\n\n\nBumper1 = Bumper(sensors_array.d)\nBumper2 = Bumper(sensors_array.e)\n\nLift.stop()\n# wait for rotation sensor to fully initialize\nwait(30, MSEC)\n#endregion VEXcode Generated Robot Configuration\n\n\n#----------------------------------------------------------------------------*/\n#                                                                            */\n#    Module:       OCCRA-2022-308                                            */\n#    Author:       C:\\Users\\FRC                                              */\n#    Created:      Tue Sep 29 2022                                           */\n#    Description:  V5 project                                                */\n#                                                                            */\n#----------------------------------------------------------------------------*/\n\n# ---- START VEXCODE CONFIGURED DEVICES ----\n# LeftWheelMotor1       motor29       A\n# LeftWheelMotor2       motor29       B\n# LeftMotor3       motor29       C\n# RightWheelMotor1      motor29       D\n# RightWheelMotor2      motor29       E\n# RightMotor3      motor29       F\n# ---- END VEXCODE CONFIGURED DEVICES ----\n\n\ndef main():\n    #declare speed\n    global whereLiftAt\n    #for failsave set to divide by 6, normal is 2; makes robot slower\n    Axis3=controller_1.axis3.position()/1\n\n    #failsave -1/6, normal -1/2\n    Axis1=controller_1.axis1.position()*(.8)\n    \n    #controller_1.screen.set_cursor(1,1)\n\n    #controller_1.screen.print(str(Axis1))\n    #controller_1.screen.clear_screen()\n    #deadzone fix\n    if abs(Axis3)<2:\n        Axis3=0\n    if abs(Axis1)<2:\n        Axis1=0\n\n    #this declares the speeds, will go forward\n    leftSpeed = Axis3\n    rightSpeed = Axis3\n\n    if Axis1 > 0:\n        leftSpeed = leftSpeed + Axis1 \n        rightSpeed = rightSpeed - Axis1\n    elif Axis1 < 0:\n        leftSpeed = leftSpeed + Axis1\n        rightSpeed = rightSpeed - Axis1 \n\n\n\n    if leftSpeed > 0:\n        leftSpeed = leftSpeed +2.8\n    if rightSpeed < 0:\n        rightSpeed = rightSpeed -9.3\n\n    #this will \n    #set to go left or right drivetrain\n    #normal 0\n\n\n\n    #set speeds\n    #drivetrain is right sided\n    driveRight(rightSpeed, PERCENT)\n    driveLeft(leftSpeed, PERCENT)\n\n    \n\n\n    b1 = bumperlift1.pressing()\n    b2= bumperlift2.pressing()\n    b3= bumperlift3.pressing()\n\n\n    \n    if b1:\n        whereLiftAt=1\n        Lift.stop()\n    if b2:\n        whereLiftAt=2\n        Lift.stop()\n    if b3:\n        whereLiftAt =3\n        Lift.stop()\n\n\n    #controller_1.screen.print(whereLiftAt)\n\n\n\n\n\n    Conveyor1System(controller_1.buttonY.pressing(), controller_1.buttonR1.pressing())\n\n    LiftSystem(controller_1.buttonDown.pressing(), controller_1.buttonRight.pressing(), controller_1.buttonUp.pressing(), controller_1.buttonLeft.pressing(), whereLiftAt)\n\n    BumperSystem(Bumper1.pressing(), Bumper2.pressing())\n\n     \n    Conveyor2System(controller_1.buttonA.pressing(), controller_1.buttonR1.pressing())\n\n    liftManual(controller_1.buttonL1.pressing(), controller_1.buttonL2.pressing(), controller_1.buttonDown.pressing(), controller_1.buttonRight.pressing(), controller_1.buttonUp.pressing())\n    \n\n\n\n#drivetrain\n#goes faster on one side, fix it pls 10/14/2022 uwu\ndef driveLeft(speed : int, units : PercentUnits):\n    LeftWheelMotor1.set_velocity(int(speed), units)\n    LeftWheelMotor1.spin(FORWARD)\n    LeftWheelMotor2.set_velocity(int(speed), units)\n    LeftWheelMotor2.spin(FORWARD)\n\n\ndef driveRight(speed : int, units : PercentUnits):\n    RightWheelMotor1.set_velocity(int(speed), units)\n    RightWheelMotor1.spin(REVERSE)\n    RightWheelMotor2.set_velocity(int(speed), units)\n    RightWheelMotor2.spin(REVERSE)\n\n\n\n\n#Conveyor1 system\ndef Conveyor1System(butnY, butnR1):\n    Conveyor1.set_velocity(int(100), PERCENT)\n    ConveyorIntakeWheels.set_velocity(int(100), PERCENT)\n    if butnY:\n        if butnR1:\n            direction = REVERSE\n        else:\n            direction = FORWARD\n        Conveyor1.spin(direction)\n        ConveyorIntakeWheels.spin(direction)\n    else:\n        Conveyor1.stop()\n        ConveyorIntakeWheels.stop()\n\ndef LiftSystem(butnDown, butnRight, butnUp, butnLeft, whereLiftAtTrue):\n    Lift.set_velocity(100, PERCENT)\n\n    #lower level\n    if butnDown and whereLiftAtTrue != 1:\n        Lift.spin(REVERSE)\n\n    #Middle level\n    elif butnRight and whereLiftAtTrue != 2:\n        if whereLiftAtTrue >2: \n            Lift.spin(REVERSE) #spin motor unitl sonic sensor reaches the correct spot\n        elif whereLiftAtTrue<2:\n            Lift.spin(FORWARD)\n    \n    #Upper level\n    elif butnUp and whereLiftAtTrue != 3:\n        Lift.spin(FORWARD)\n    #if whereLiftAtTrue == 1 or whereLiftAtTrue == 2 or whereLiftAtTrue == 3:\n        #Lift.stop()\n\n\nshowing1 = False\nshowing2 = False\ndef BumperSystem(bump1Pressing, bump2Pressing):\n    global showing1\n    global showing2\n    #shows if bumpers are being pressed on the robot\n    if bump1Pressing and not showing1:\n        controller_1.screen.set_cursor(1,1)\n        controller_2.screen.set_cursor(1,1)\n        controller_1.screen.print(\"Bumper1: \")\n        controller_1.screen.print(Bumper1.pressing())\n        controller_2.screen.print(\"Bumper1: \")\n        controller_2.screen.print(Bumper1.pressing())\n        showing1 = True\n    elif not bump1Pressing and showing1:\n        controller_2.screen.clear_row(1)\n        controller_1.screen.clear_row(1)\n        showing1 = False\n\n\n\n    if bump2Pressing and not showing2:\n        controller_1.screen.set_cursor(2,1)\n        controller_2.screen.set_cursor(2,1)\n        controller_1.screen.print(\"Bumper2: \")\n        controller_1.screen.print(Bumper2.pressing())\n        controller_2.screen.print(\"Bumper2: \")\n        controller_2.screen.print(Bumper2.pressing())\n        showing2 = True\n    elif not bump2Pressing and showing2:\n        controller_2.screen.clear_row(2)\n        controller_1.screen.clear_row(2)\n        showing2 = False\n\n\n\n\n\n# Conveyor2 System\ndef Conveyor2System(butnA, butnR1):\n    if butnA:\n        Conveyor2.set_velocity(100, PERCENT)\n        if butnR1:\n            direction = REVERSE\n        else:\n            direction = FORWARD\n        Conveyor2.spin(direction)\n    else:\n        Conveyor2.stop()\n\n# Lift system (Manual)\ndef liftManual(butnL1, butnL2, butnDown, butnRight, butnUp):\n    if butnL1:\n        Lift.set_velocity(100, PERCENT)\n        Lift.spin(REVERSE)\n    elif butnL2 and whereLiftAt != 3:\n        Lift.set_velocity(100, PERCENT)\n        Lift.spin(FORWARD)\n    elif butnDown ==False and butnRight == False and butnUp == False:\n        Lift.stop()\n        #controller_1.screen.set_cursor(3,1)\n        #controller_1.screen.print(\"L1 NOT PRESS\")\n \nwhile True:\n    main()","textLanguage":"python","rconfig":[],"slot":0,"platform":"V5","sdkVersion":"20220726.10.00.00","appVersion":"2.4.0","minVersion":"2.4.0","fileFormat":"1.2.0","icon":"","targetBrainGen":"First","target":"Physical"}